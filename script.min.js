document.getElementById("searchBtn").addEventListener("click",()=>{let e=document.getElementById("searchQuery").value.trim().toLowerCase();if(""===e){alert("Please enter a search query.");return}let t=document.getElementById("output");t.textContent="Searching...";let r=[];for(let n=0;n<=1e3;n++){let l=`https://raw.githubusercontent.com/firminoalves/ffffound/master/data/${n}.json`;r.push(fetchJsonFile(l,e))}Promise.all(r).then(e=>{t.textContent="",e.forEach(e=>{if(e.urls.length>0){t.innerHTML+=`<p>Title: ${e.fileName}
</p>`,console.log(e.urls);let r=e.urls.map(e=>e["@fffoundUrl"]);t.innerHTML+=`<a href="https://web.archive.org/web/20170507073043/${r.join("\n")+"\n\n"}" target="_blank">${r.join("\n")}</a>`}}),""===t.textContent&&(t.textContent="No matching URLs found.")}).catch(e=>{console.error("Failed to fetch files:",e)})});const fetchJsonFile=(e,t)=>fetch(e).then(e=>{if(!e.ok)throw Error(`HTTP error! Status: ${e.status}`);return e.json()}).then(r=>{console.log(r);let n=extractUrls(r),l=n.filter(e=>e.content.toLowerCase().includes(t));return{fileName:e,urls:l}}).catch(t=>(console.error(`Failed to fetch or process ${e}:`,t),{fileName:e,urls:[]}));function extractUrls(e){let t=[];for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];t.push(n)}return t}